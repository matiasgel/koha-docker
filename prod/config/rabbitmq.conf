# Archivo de configuración de RabbitMQ para producción

# Configuración básica
loopback_users.guest = false
default_user = koha
default_pass = CHANGE_THIS_PASSWORD

# Configuración de red
listeners.tcp.default = 5672
management.listener.port = 15672
management.listener.ssl = false

# Configuración STOMP
stomp.listeners.tcp.1 = 61613
stomp.default_user = koha
stomp.default_pass = CHANGE_THIS_PASSWORD

# Configuración de logs
log.console = true
log.console.level = info
log.file = /var/log/rabbitmq/rabbit.log
log.file.level = info
log.file.rotation.count = 10
log.file.rotation.size = 10485760

# Configuración de memoria y disco
vm_memory_high_watermark.relative = 0.6
disk_free_limit.relative = 2.0

# Configuración de clustering (para futuras expansiones)
cluster_formation.peer_discovery_backend = classic_config

# Configuración de heartbeat
heartbeat = 60

# Configuración de SSL (descomente si usa SSL)
# listeners.ssl.default = 5671
# ssl_options.cacertfile = /etc/ssl/certs/ca-certificates.crt
# ssl_options.certfile = /etc/ssl/certs/server.crt
# ssl_options.keyfile = /etc/ssl/private/server.key
# ssl_options.verify = verify_peer
# ssl_options.fail_if_no_peer_cert = true
